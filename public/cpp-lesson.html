<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++ Lesson - AIONYX</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Monaco Editor -->
    <link rel="stylesheet" data-name="vs/editor/editor.main"
        href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs/editor/editor.main.css">
    <link rel="stylesheet" href="css/theme.css">
    <style>
        body {
            background-color: var(--background);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Top Navigation - Glassmorphism */
        .lesson-nav {
            height: 60px;
            background: rgba(10, 10, 15, 0.8);
            backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 10;
            box-shadow: var(--shadow-sm);
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .home-btn {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .home-btn:hover {
            color: var(--primary);
            transform: translateX(-2px);
        }

        .lesson-title-display {
            font-weight: 700;
            background: linear-gradient(135deg, var(--text-primary), var(--text-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            padding-left: 20px;
            border-left: 1px solid var(--border);
        }

        /* Workspace Grid */
        .workspace {
            display: grid;
            grid-template-columns: 40% 60%;
            height: calc(100vh - 60px);
        }

        /* Left Panel: Content */
        .content-panel {
            background: var(--surface);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .content-scroll {
            padding: 30px;
            overflow-y: auto;
            flex: 1;
            line-height: 1.7;
        }

        .content-scroll h1 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .content-scroll h2 {
            font-size: 1.3rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .content-scroll h2 i {
            color: var(--secondary);
            filter: drop-shadow(0 0 5px rgba(236, 72, 153, 0.5));
        }

        .content-scroll p {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .content-scroll ul {
            padding-left: 20px;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .content-scroll li {
            margin-bottom: 0.5rem;
        }

        .code-block {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            color: var(--text-muted);
            margin: 1.5rem 0;
            white-space: pre-wrap;
            position: relative;
        }

        .code-block::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--primary);
            border-radius: 8px 0 0 8px;
        }

        .nav-buttons {
            padding: 20px;
            border-top: 1px solid var(--border);
            background: var(--surface-elevated);
            display: flex;
            justify-content: space-between;
        }

        .btn-nav {
            padding: 10px 20px;
            border-radius: 8px;
            background: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border);
            cursor: pointer;
            text-decoration: none;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }

        .btn-nav:hover {
            background: var(--surface-hover);
            color: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(139, 92, 246, 0.1);
        }

        .btn-complete {
            background: var(--surface);
            color: var(--text-muted);
            border: 1px solid var(--border);
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }

        .btn-complete:hover {
            background: rgba(34, 197, 94, 0.1);
            color: #22c55e;
            border-color: #22c55e;
            transform: translateY(-2px);
            box-shadow: 0 0 10px rgba(34, 197, 94, 0.2);
        }

        /* Right Panel: Editor & Terminal */
        .editor-panel {
            display: flex;
            flex-direction: column;
            background: #1e1e1e;
            height: 100%;
            overflow: hidden;
        }

        .editor-header {
            height: 40px;
            background: var(--surface);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 15px;
            border-bottom: 1px solid var(--border);
            flex-shrink: 0;
        }

        .lang-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-run {
            background: linear-gradient(135deg, var(--success), #059669);
            color: white;
            border: none;
            padding: 6px 16px;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.2);
            font-size: 0.85rem;
        }

        .btn-run:hover {
            transform: translateY(-1px);
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.4);
        }

        .btn-run:disabled {
            background: var(--surface-hover);
            color: var(--text-disabled);
            box-shadow: none;
            cursor: not-allowed;
            transform: none;
        }

        #editor-container {
            flex: 1;
            /* Takes remaining space initially */
            width: 100%;
            min-height: 0;
            /* Important for flex child scroll */
        }

        .terminal-panel {
            height: 200px;
            /* Fixed starting height */
            min-height: 100px;
            max-height: 80%;
            background: #09090b;
            border-top: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            position: relative;
            flex-shrink: 0;
            /* Prevent flex shrinking */
        }

        .resize-handle {
            height: 8px;
            /* Slightly larger hit area */
            background: transparent;
            cursor: row-resize;
            transition: background 0.2s;
            position: absolute;
            top: -4px;
            /* Centered on border */
            left: 0;
            right: 0;
            z-index: 20;
        }

        .resize-handle:hover,
        .resize-handle.active {
            background: var(--primary);
        }

        .terminal-header {
            background: var(--surface-elevated);
            padding: 8px 15px;
            font-size: 0.8rem;
            color: var(--text-muted);
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
            user-select: none;
            flex-shrink: 0;
        }

        .terminal-output {
            flex: 1;
            padding: 15px;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            color: #d4d4d8;
            overflow-y: auto;
            white-space: pre-wrap;
            /* Scrollbar styling */
            scrollbar-width: thin;
            scrollbar-color: var(--border) transparent;
        }

        .terminal-output::-webkit-scrollbar {
            width: 8px;
        }

        .terminal-output::-webkit-scrollbar-track {
            background: transparent;
        }

        .terminal-output::-webkit-scrollbar-thumb {
            background-color: var(--border);
            border-radius: 4px;
        }

        .terminal-output-error {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
            border-left: 3px solid #ef4444;
            padding: 10px;
            margin-top: 10px;
        }

        /* Mobile Optimization */
        @media (max-width: 768px) {
            .lesson-nav {
                padding: 0 10px;
            }

            .lesson-title-display {
                display: none;
                /* Hide title on very small screens to save space */
            }

            .workspace {
                grid-template-columns: 1fr;
                grid-template-rows: 40% 60%;
                /* Split vertically */
                height: calc(100vh - 60px);
            }

            .content-panel {
                border-right: none;
                border-bottom: 1px solid var(--border);
            }

            .editor-panel {
                height: 100%;
            }

            /* Adjust terminal height for mobile */
            .terminal-panel {
                height: 150px;
                max-height: 50%;
            }
        }
    </style>
</head>

<body>
    <!-- Nav -->
    <div class="lesson-nav">
        <div class="nav-left">
            <a href="cpp-dashboard" class="home-btn"><i class="fas fa-arrow-left"></i> Dashboard</a>
            <span class="lesson-title-display" id="topLessonTitle">Loading...</span>
        </div>
        <div>
            <!-- Additional controls if needed -->
        </div>
    </div>

    <div class="workspace">
        <!-- Content -->

        <!-- Content -->
        <div class="content-panel">
            <div style="padding: 15px 30px 10px 30px; display:flex; justify-content: flex-end;">
                <button id="btnShowSolution" class="btn-nav"
                    style="padding: 6px 12px; font-size: 0.85rem; color: #fbbf24; border-color: rgba(251, 191, 36, 0.3);"><i
                        class="fas fa-lightbulb"></i> View Solution</button>
            </div>

            <div id="solutionBox"
                style="display: none; padding: 20px 30px; background: rgba(251, 191, 36, 0.05); border-bottom: 1px solid var(--border);">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <h4 style="margin:0; color: #fbbf24; font-size: 1rem;"><i class="fas fa-check-circle"></i> Solution
                        Code</h4>
                    <button
                        onclick="document.getElementById('solutionBox').style.display = 'none'; document.getElementById('btnShowSolution').innerHTML = '<i class=\'fas fa-lightbulb\'></i> View Solution';"
                        class="btn-nav" title="Close Solution"
                        style="padding: 4px 8px; font-size: 1.2rem; border:none; background: transparent; color: #fbbf24; cursor: pointer;"><i
                            class="fas fa-times"></i></button>
                </div>
                <pre id="solutionCodeDisplay"
                    style="white-space: pre-wrap; font-family: 'Fira Code', monospace; font-size: 0.85rem; color: #d4d4d8; background: #000; padding: 15px; border-radius: 6px; border: 1px solid var(--border); overflow-x: auto; margin:0;"></pre>
            </div>

            <div class="content-scroll" id="lessonContent">
                <!-- Content injected by JS -->
                <div style="text-align: center; padding-top: 50px;">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: #06b6d4;"></i>
                </div>
            </div>
            <div class="nav-buttons">
                <button class="btn-nav" id="btnPrev" style="visibility: hidden;"><i class="fas fa-chevron-left"></i>
                    Previous</button>
                <div style="display: flex; gap: 10px;">
                    <button class="btn-nav btn-complete" id="btnComplete" onclick="markComplete()">
                        <i class="fas fa-check"></i> Mark Complete
                    </button>
                    <button class="btn-nav" id="btnNext" style="visibility: hidden;">Next <i
                            class="fas fa-chevron-right"></i></button>
                </div>
            </div>
        </div>

        <!-- Editor -->
        <div class="editor-panel">
            <div class="editor-header">
                <span class="lang-label"><i class="fas fa-code"></i> main.cpp</span>
                <button class="btn-run" id="btnRun" onclick="runCode()">
                    <i class="fas fa-play"></i> Run Code
                </button>
            </div>
            <div id="editor-container"></div>
            <div class="terminal-panel" id="terminalPanel">
                <div class="resize-handle" id="resizeHandle"></div>
                <div class="terminal-header">Terminal Output</div>
                <div id="terminal-output">// Output will appear here...</div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs/loader.min.js"></script>
    <script>
        // --- DATA ---
        const lessonData = {
            "1.1": {
                "title": "Introduction to C++",
                "content": "\n<h1>Introduction to C++</h1>\n\nWelcome to the world of C++! C++ is one of the most powerful and widely used programming languages in the world. Created by Bjarne Stroustrup in 1979, it was designed as an extension of the C programming language to include \"Object-Oriented\" features.\n\n<strong>Why learn C++?</strong>\n<ol>\n    <li><strong>Blazing Fast Performance:</strong> C++ code translates directly to machine language, making it incredibly fast. This is why it's the industry standard for video games (like Unreal Engine), operating systems (like Windows), and high-frequency trading platforms.</li>\n    <li><strong>Hardware Control:</strong> Unlike Python or Java, C++ gives you direct control over your computer's memory and CPU resources.</li>\n    <li><strong>The Ultimate Foundation:</strong> Because C++ forces you to understand how memory and logic work under the hood, learning it makes learning any other language (like Java, Python, or JavaScript) much easier!</li>\n</ol>\n\n<h3>Example: Your First Glimpse</h3>\nC++ code is written in plain text files ending in <code>.cpp</code>. Because computers only understand binary (0s and 1s), we use a tool called a <strong>compiler</strong> to translate our written C++ code into an executable program.\n\n<div class=\"code-block\">// A sneak peek at what C++ looks like!\n#include &lt;iostream&gt;\n\nint main() {\n    std::cout << \"Welcome to C++!\";\n    return 0;\n}</div>\n\n<h3>Exercise</h3>\nRun the code block on the right using the \"Run Code\" button. You will see the compiler translate the code and print the output in the terminal below!\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">Welcome to C++! Learning the fundamentals.</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    std::cout << \"Welcome to C++! Learning the fundamentals.\" << std::endl;\n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    // Write your code here\n    \n    return 0;\n}"
            },
            "1.2": {
                "title": "Your First Program",
                "content": "\n<h1>Your First Program: Hello World</h1>\n\nEvery journey begins with a single step. In programming, that step is the famous \"Hello World\" program. Let's break down the anatomy of a basic C++ file so you understand exactly what each line does.\n\n<strong>Breaking it down:</strong>\n<ul>\n    <li><code>#include &lt;iostream&gt;</code>: This tells the compiler to load the Standard Input/Output Stream library. Without this, C++ doesn't know how to print text to your screen or read keyboard input!</li>\n    <li><code>int main() { ... }</code>: The main function is the entry point of your program. When you run your code, the computer looks for <code>main()</code> and executes whatever is inside the curly brackets <code>{}</code> first.</li>\n    <li><code>std::cout</code>: Stands for \"Character Output\". It's how we print text. The <code>&lt;&lt;</code> arrows push the text into the output stream.</li>\n    <li><code>std::endl</code>: Stands for \"End Line\". It moves the cursor to the next line, just like pressing Enter on your keyboard.</li>\n    <li><code>return 0;</code>: Tells the operating system that the program finished successfully without any errors (0 means success).</li>\n    <li><strong>Semicolons (;)</strong>: Notice how every instruction ends with a semicolon. This is like a period at the end of an English sentence. Forgetting it will cause an error!</li>\n</ul>\n\n<h3>Example</h3>\n<div class=\"code-block\">#include &lt;iostream&gt;\n\nint main() {\n    std::cout << \"Hello World!\" << std::endl;\n    return 0;\n}</div>\n\n<h3>Exercise</h3>\nModify the code in the editor on the right. Instead of printing \"Hello World!\", write a program that prints your name and your favorite hobby on two separate lines. \n<em>Hint: Use <code>std::cout</code> and <code>std::endl</code> twice!</em>\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">Supriya<br>Coding</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    std::cout << \"Supriya\" << std::endl;\n    std::cout << \"Coding\" << std::endl;\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    // Print your name on line 1\n    \n    // Print your hobby on line 2\n    \n    return 0;\n}"
            },
            "1.3": {
                "title": "Variables — Storing Data",
                "content": "\n<h1>Variables — Storing Data</h1>\n\nA <strong>variable</strong> is simply a named container that stores data in your computer's memory. Imagine a labeled box where you can put a piece of information, take it out, or change it later.\n\nIn C++, you <strong>must</strong> specify what type of data the box will hold before you create it. This makes C++ extremely fast, because the computer knows exactly how much memory to set aside.\n\n<strong>Core Data Types:</strong>\n<ul>\n    <li><code>int</code>: Stores whole numbers (integers) without decimals. Example: <code>5</code>, <code>-10</code>, <code>1000</code>.</li>\n    <li><code>double</code>: Stores floating-point numbers (decimals). Example: <code>3.14</code>, <code>-99.99</code>.</li>\n    <li><code>char</code>: Stores a single character, surrounded by single quotes. Example: <code>'A'</code>, <code>'z'</code>, <code>'9'</code>.</li>\n    <li><code>bool</code>: Stores a Boolean value, which can only be <code>true</code> or <code>false</code>.</li>\n</ul>\n\n<h3>Example</h3>\nHere is how you declare (create) variables and immediately assign them a value.\n<div class=\"code-block\">int playerLevel = 5;\ndouble health = 99.5;\nchar rank = 'S';\nbool isGameOver = false;\n\n// We can print variables easily:\nstd::cout << \"Player Level: \" << playerLevel;</div>\n\n<h3>Exercise</h3>\nCreate an <code>int</code> variable named <code>points</code> and set it to 500. Then, create a <code>double</code> variable named <code>multiplier</code> and set it to 1.5. Print both to the screen!\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">Points: 500<br>Multiplier: 1.5</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int points = 500;\n    double multiplier = 1.5;\n    \n    std::cout << \"Points: \" << points << std::endl;\n    std::cout << \"Multiplier: \" << multiplier << std::endl;\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    // Create your points and multiplier variables here\n    \n    \n    // Print them out here\n    \n    return 0;\n}"
            },
            "1.4": {
                "title": "Working with Text",
                "content": "\n<h1>Working with Text: Strings</h1>\n\nWhile <code>char</code> can store a single letter, we often need to store entire words or sentences. For this, C++ provides the <code>std::string</code> type.\n\nTo use strings, you must explicitly tell C++ to load the string library by putting <code>#include &lt;string&gt;</code> at the very top of your file.\n\n<strong>String Concatenation:</strong>\nYou can safely add two strings together using the <code>+</code> symbol. This is called concatenation. It glues the second string directly to the end of the first.\n\n<h3>Example</h3>\nStrings must always be wrapped in double quotes <code>\"like this\"</code>, whereas single characters use single quotes <code>'A'</code>.\n<div class=\"code-block\">#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nint main() {\n    std::string firstName = \"John\";\n    std::string lastName = \"Doe\";\n    \n    // We add a space \" \" in between them!\n    std::string fullName = firstName + \" \" + lastName;\n    \n    std::cout << \"Welcome, \" << fullName << \"!\";\n    return 0;\n}</div>\n\n<h3>Exercise</h3>\nCreate two string variables: <code>color</code> and <code>animal</code>. Set them to your favorite color and animal. Then, concatenate them into a single sentence and print it! (e.g., \"My favorite thing is a Blue Elephant\").\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">My favorite thing is a Crimson Dragon</div>\n",
                "solutionCode": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nint main() {\n    std::string color = \"Crimson\";\n    std::string animal = \"Dragon\";\n    \n    std::string sentence = \"My favorite thing is a \" + color + \" \" + animal;    \n    std::cout << sentence << std::endl;\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nint main() {\n    // Create your color and animal strings\n    \n    \n    // Concatenate and print them\n    \n    return 0;\n}"
            },
            "1.5": {
                "title": "Math in C++",
                "content": "\n<h1>Math in C++: Arithmetic Operators</h1>\n\nC++ is highly efficient at performing mathematical calculations. It supports all standard arithmetic operators:\n\n<ul>\n    <li><code>+</code> (Addition)</li>\n    <li><code>-</code> (Subtraction)</li>\n    <li><code>*</code> (Multiplication)</li>\n    <li><code>/</code> (Division)</li>\n    <li><code>%</code> (Modulo / Remainder)</li>\n</ul>\n\n<strong>Crucial Rule about Integer Division:</strong>\nIf you divide two <code>int</code> variables, C++ will <strong>drop the decimal entirely</strong>. For example, <code>10 / 3</code> will equal <code>3</code>, not <code>3.333</code>. If you want decimals, you must use a <code>double</code> type!\n\n<strong>The Modulo Operator:</strong>\nThe <code>%</code> operator divides two numbers and gives you the <strong>remainder</strong>. <code>10 % 3</code> equals <code>1</code>, because 3 goes into 10 three times, leaving 1 leftover.\n\n<h3>Example</h3>\n<div class=\"code-block\">int a = 10;\nint b = 3;\n\nint sum = a + b;       // 13\nint diff = a - b;      // 7\nint prod = a * b;      // 30\nint quot = a / b;      // 3 (Decimal is discarded)\nint rem = a % b;       // 1 (Remainder)</div>\n\n<h3>Exercise</h3>\nCalculate what <code>25 % 7</code> is using C++, and store the result in an integer named <code>remainder</code>. Print it to the terminal.\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">The remainder is: 4</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int num1 = 25;\n    int num2 = 7;\n    \n    int remainder = num1 % num2;\n    \n    std::cout << \"The remainder is: \" << remainder << std::endl;\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int num1 = 25;\n    int num2 = 7;\n    \n    // Calculate the remainder here\n    \n    // Print the remainder here\n    \n    return 0;\n}"
            },
            "1.6": {
                "title": "Getting Input from the User",
                "content": "\n<h1>Interactive Programs: Getting User Input</h1>\n\nReading data from the user makes your program dynamic. In C++, we use <code>std::cin</code> (Character Input) to pause the program and wait for the user to type something on their keyboard and press Enter.\n\n<strong>Understanding the Arrows:</strong>\n<ul>\n    <li><code>&lt;&lt;</code> (Output stream): Think of these as arrows pointing OUT to the screen. <code>std::cout &lt;&lt; \"Hello\";</code></li>\n    <li><code>&gt;&gt;</code> (Input stream): Think of these as arrows pointing IN to a variable. <code>std::cin &gt;&gt; age;</code></li>\n</ul>\n\n<h3>Example</h3>\nYou must first declare the variable so C++ has a container ready to catch the input. Then, you use <code>cin</code> to fill it.\n<div class=\"code-block\">#include &lt;iostream&gt;\n\nint main() {\n    int age; // Create an empty variable\n    \n    std::cout << \"Please enter your age: \";\n    std::cin >> age; // Program pauses here waiting for input\n    \n    std::cout << \"Wow, you are \" << age << \" years old!\";\n    return 0;\n}</div>\n\n<h3>Exercise</h3>\n<em>Note: Because our web-based terminal compiles code remotely rather than interactively, <code>std::cin</code> will freeze. Instead, manually assign a value directly to the <code>city</code> variable in the editor, and print a custom sentence showing where you live!</em>\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">I live in Tokyo!</div>\n",
                "solutionCode": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nint main() {\n    std::string city = \"Tokyo\";\n    \n    std::cout << \"I live in \" << city << \"!\" << std::endl;\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nint main() {\n    // Manually assign a city name to this variable\n    std::string city = \"Tokyo\";\n    \n    // Print a sentence like \"I live in Tokyo!\"\n    \n    return 0;\n}"
            },
            "2.1": {
                "title": "Comparing Values",
                "content": "\n<h1>Comparing Values: Relational Operators</h1>\n\nTo make decisions in our code, we first need to compare values. A comparison operation always results in a Boolean value: either <strong>true</strong> or <strong>false</strong>.\n\nHere are the primary comparison operators in C++:\n<ul>\n    <li><code>==</code> (Equal to) - Notice it is TWO equal signs! A single <code>=</code> is for assigning a value.</li>\n    <li><code>!=</code> (Not equal to)</li>\n    <li><code>&lt;</code> (Less than)</li>\n    <li><code>&gt;</code> (Greater than)</li>\n    <li><code>&lt;=</code> (Less than or equal to)</li>\n    <li><code>&gt;=</code> (Greater than or equal to)</li>\n</ul>\n\n<strong>Outputting Booleans:</strong>\nWhen you <code>cout</code> a true boolean, it prints <code>1</code>. If it is false, it prints <code>0</code>.\n\n<h3>Example</h3>\n<div class=\"code-block\">int score = 85;\nint passingGrade = 60;\n\nbool isPassing = (score >= passingGrade); \n// isPassing becomes true\n\nstd::cout << (10 == 10); // Prints 1 (true)\nstd::cout << (5 > 10);   // Prints 0 (false)</div>\n\n<h3>Exercise</h3>\nCreate two variables, <code>a = 50</code> and <code>b = 20</code>. Print out the result of evaluating whether <code>a</code> is greater than <code>b</code>.\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">Is a > b? 1</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int a = 50;\n    int b = 20;\n    \n    std::cout << \"Is a > b? \" << (a > b) << std::endl;\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int a = 50;\n    int b = 20;\n    \n    // Check if 'a' is greater than 'b' and print the result\n    \n    return 0;\n}"
            },
            "2.2": {
                "title": "Making Decisions",
                "content": "\n<h1>Making Decisions with If-Else</h1>\n\nThe <code>if</code> statement is the core of program logic. It allows your program to execute a specific block of code <strong>only if</strong> a certain condition is true. If it is false, the program simply skips that block.\n\nYou can also attach an <code>else</code> statement immediately after the <code>if</code> block. The <code>else</code> block will execute as a fallback if the <code>if</code> condition was false.\n\n<h3>Example</h3>\n<div class=\"code-block\">int playerHealth = 0;\n\nif (playerHealth > 0) {\n    std::cout << \"You are still alive!\"; // Skipped, because 0 is not > 0\n} else {\n    std::cout << \"Game Over.\"; // This executes instead!\n}</div>\n\n<h3>Exercise</h3>\nLook at the code in the editor. Add an <code>if-else</code> block that checks if <code>temperature</code> is greater than 30. If it is, print \"It's hot outside!\". Otherwise, print \"The weather is nice!\". \n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">It's hot outside!</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int temperature = 35;\n    \n    if (temperature > 30) {\n        std::cout << \"It's hot outside!\\n\";\n    } else {\n        std::cout << \"The weather is nice!\\n\";\n    }\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int temperature = 35;\n    \n    // Write your if-else statement here\n    \n    \n    return 0;\n}"
            },
            "2.3": {
                "title": "Multiple Conditions",
                "content": "\n<h1>Handling Multiple Conditions: Else If</h1>\n\nSometimes there are more than two possible outcomes. You can chain as many conditions together as you want using <code>else if</code> between the initial <code>if</code> and the final <code>else</code>.\n\n<strong>How it evaluates:</strong>\nC++ checks the conditions from top to bottom. The momentous it finds a condition that evaluates to <code>true</code>, it executes that block of code, and entirely skips the rest of the chain!\n\n<h3>Example</h3>\nIf the score was 85, C++ checks <code>score >= 90</code> (false), then it checks <code>score >= 80</code> (true!). It prints \"Grade: B\" and skips everything else.\n<div class=\"code-block\">int score = 85;\n\nif (score >= 90) {\n    std::cout << \"Grade: A\";\n} else if (score >= 80) {\n    std::cout << \"Grade: B\";\n} else if (score >= 70) {\n    std::cout << \"Grade: C\";\n} else {\n    std::cout << \"Grade: F\";\n}</div>\n\n<h3>Exercise</h3>\nFinish the grading system code in the editor. Add an <code>else if</code> to check if the score is greater than or equal to 70 and print \"Grade C\". Add an <code>else</code> block at the end that prints \"Grade F\".\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">Grade C</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int score = 75;\n    if (score >= 90) {\n        std::cout << \"Grade A\\n\";\n    } else if (score >= 80) {\n        std::cout << \"Grade B\\n\";\n    } else if (score >= 70) {\n        std::cout << \"Grade C\\n\";\n    } else {\n        std::cout << \"Grade F\\n\";\n    }\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int score = 75;\n    if (score >= 90) {\n        std::cout << \"Grade A\\n\";\n    } else if (score >= 80) {\n        std::cout << \"Grade B\\n\";\n    }\n    // Add 'else if' for Grade C and 'else' for Grade F here\n    \n    return 0;\n}"
            },
            "3.1": {
                "title": "Repeating with While",
                "content": "\n<h1>Repeating Actions: The While Loop</h1>\n\nProgramming is brilliant at automating repetitive tasks. A <code>while</code> loop allows you to execute a block of code repeatedly, as long as a specified condition remains true. \n\nBefore every iteration (loop), C++ checks the condition. If it is true, it runs the code block. If it is false, the loop ends, and the program moves on to the next line of code below the loop.\n\n<strong>WARNING: The Infinite Loop</strong>\nInside your loop, you <strong>must</strong> do something that eventually causes the condition to become false (like adding 1 to a counter). If the condition is <em>always</em> true, the loop will run forever until the computer crashes!\n\n<h3>Example</h3>\nIn this example, we add 1 to 'i' at the end of every loop using <code>i++</code>.\n<div class=\"code-block\">int i = 1;\nwhile (i <= 5) { // Keeps running while i is 5 or less\n    std::cout << i << \" \";\n    i++; // INCREMENT OR SUFFER INFINITY!\n}\n// Outputs: 1 2 3 4 5</div>\n\n<h3>Exercise</h3>\nWrite a <code>while</code> loop that acts as a rocket launch countdown. Start a variable at 5. While it is greater than 0, print the number and subtract 1 (using <code>i--</code>). Once the loop finishes, print \"Blastoff!\".\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">5...<br>4...<br>3...<br>2...<br>1...<br>Blastoff!</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int countdown = 5;\n    \n    while (countdown > 0) {\n        std::cout << countdown << \"...\\n\";\n        countdown--;\n    }\n    \n    std::cout << \"Blastoff!\\n\";\n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int countdown = 5;\n    \n    // Write your while loop here\n    \n    \n    std::cout << \"Blastoff!\\n\";\n    return 0;\n}"
            },
            "3.2": {
                "title": "The For Loop",
                "content": "\n<h1>The For Loop</h1>\n\nWhile <code>while</code> loops are great when you don't know how many times you need to loop, the <code>for</code> loop is the tool of choice when you know <strong>exactly</strong> how many iterations you want. \n\nIt neatly packages the starting variable, the condition, and the update rule all onto one clean line.\n\n<strong>Structure of a For Loop:</strong>\n<code>for (INITIALIZATION; CONDITION; UPDATE)</code>\n1. <strong>Initialization:</strong> Create a counter variable (Runs only once at the start).\n2. <strong>Condition:</strong> The loop runs as long as this is true (Checked before every loop).\n3. <strong>Update:</strong> What happens to the counter variable (Runs at the very end of every loop).\n\n<h3>Example</h3>\n<div class=\"code-block\">for (int i = 1; i <= 5; i++) {\n    std::cout << i << \" \";\n}\n// Outputs: 1 2 3 4 5</div>\n\n<h3>Exercise</h3>\nWrite a <code>for</code> loop that prints out all the <strong>even</strong> numbers between 2 and 10 (inclusive). \n<em>Hint: Instead of <code>i++</code>, try updating your counter by 2 each time using <code>i += 2</code>.</em>\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">2 4 6 8 10 </div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    for (int i = 2; i <= 10; i += 2) {\n        std::cout << i << \" \";\n    }\n    \n    std::cout << std::endl;\n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    // Write your for loop here to print even numbers from 2 to 10\n    \n    \n    return 0;\n}"
            },
            "3.3": {
                "title": "Arrays — Lists of Data",
                "content": "\n<h1>Arrays — Managing Lists of Data</h1>\n\nWhat if you needed to store 100 student grades? Creating 100 separate variables (grade1, grade2, etc.) would be a nightmare!\n\nAn <strong>array</strong> solves this by allowing you to store multiple pieces of data of the same type together in a single, structured list.\n\n<strong>Zero-Based Indexing:</strong>\nIn almost all programming languages, arrays are \"zero-indexed\". This means that the computer starts counting at 0, not 1. The first item in the array is at index <code>[0]</code>. The second item is at index <code>[1]</code>.\n\n<h3>Example</h3>\nWhen declaring an array, use square brackets <code>[]</code>.\n<div class=\"code-block\">int luckyNumbers[4] = {10, 20, 30, 40};\n\nstd::cout << luckyNumbers[0]; // Prints 10 (the first item)\nstd::cout << luckyNumbers[3]; // Prints 40 (the fourth item)</div>\n\n<h3>Exercise</h3>\nCombine your knowledge of arrays and for-loops! The editor has an array of integers. Write a for-loop that visits every single element in the array, adds its value to the <code>sum</code> variable, and then prints the total sum.\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">Total Sum: 150</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int nums[5] = {10, 20, 30, 40, 50};\n    int sum = 0;\n    \n    for (int i = 0; i < 5; i++) {\n        sum += nums[i];\n    }\n    \n    std::cout << \"Total Sum: \" << sum << std::endl;\n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int nums[5] = {10, 20, 30, 40, 50};\n    int sum = 0;\n    \n    // Write a loop here to calculate the sum of all elements\n    \n    \n    std::cout << \"Total Sum: \" << sum << std::endl;\n    return 0;\n}"
            },
            "3.4": {
                "title": "String Operations",
                "content": "\n<h1>Advanced String Operations</h1>\n\nStrings (<code>std::string</code>) are more than just text containers; they are fully featured objects that come pre-loaded with helper tools, known as methods.\n\n<strong>Key Methods we use:</strong>\n<ul>\n    <li><code>.length()</code>: Returns how many characters are in the string.</li>\n    <li><code>[index]</code>: Strings act exactly like arrays of characters! You can use brackets to target a specific letter. (Remember, it starts at 0).</li>\n    <li><code>.substr(startPosition, length)</code>: Extracts a smaller substring from inside your main string.</li>\n</ul>\n\n<h3>Example</h3>\n<div class=\"code-block\">std::string word = \"Programming\";\n\nstd::cout << word.length();     // Prints 11\nstd::cout << word[0];           // Prints 'P'\nstd::cout << word.substr(0, 4); // Extracts 4 letters starting at index 0 => \"Prog\"</div>\n\n<h3>Exercise</h3>\nCreate a string with the word \"AIONYX\". Use the <code>length()</code> method to print its length, and use the array <code>[]</code> syntax to print its very first character on the line below it.\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">Length: 6<br>First: A</div>\n",
                "solutionCode": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nint main() {\n    std::string name = \"AIONYX\";\n    \n    std::cout << \"Length: \" << name.length() << std::endl;\n    std::cout << \"First: \" << name[0] << std::endl;\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nint main() {\n    std::string name = \"AIONYX\";\n    \n    // Print the length\n    \n    // Print the first character\n    \n    return 0;\n}"
            },
            "4.1": {
                "title": "Functions — Reusable Code",
                "content": "\n<h1>Functions — Organizing Your Code</h1>\n\nAs your programs grow larger, placing thousands of lines inside <code>main()</code> becomes messy and unreadable. A <strong>function</strong> is an isolated block of code designed to perform one specific, reusable task.\n\nBy packaging code into functions, you give it a name. You can then execute that entirely block of code anywhere in your program simply by calling its name!\n\n<strong>Function Anatomy:</strong>\nFunctions must be defined <strong>above</strong> <code>main()</code> in your file so C++ knows they exist before you try to use them. A <code>void</code> function performs actions but does not hand any data back when it finishes.\n\n<h3>Example</h3>\n<div class=\"code-block\">void showMenu() { // Function definition\n    std::cout << \"1. Start Game \\n\";\n    std::cout << \"2. Options \\n\";\n    std::cout << \"3. Exit \\n\";\n}\n\nint main() {\n    showMenu(); // Invokes (Runs) the function!\n    return 0;\n}</div>\n\n<h3>Exercise</h3>\nDefine a <code>void</code> function named <code>greet()</code> that prints out a welcome message like \"Hello, Student!\". Then, invoke your new function from inside <code>main()</code>.\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">Hello, Student!</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nvoid greet() {\n    std::cout << \"Hello, Student!\\n\";\n}\n\nint main() {\n    greet();\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\n// Define your void greet() function here\n\n\nint main() {\n    // Call your greet function here\n    \n    return 0;\n}"
            },
            "4.2": {
                "title": "Passing Data to Functions",
                "content": "\n<h1>Passing Data to Functions (Parameters)</h1>\n\nFunctions become incredibly powerful when they can accept input, process it, and return a result. \n\n<strong>Parameters and Returns:</strong>\n<ul>\n    <li><strong>Parameters:</strong> Variables you define inside the function's parentheses <code>()</code>. They act as input channels, waiting for data to be passed in when the function is called.</li>\n    <li><strong>Return Type:</strong> Instead of using <code>void</code>, you specify the type of data the function will hand back (like <code>int</code> or <code>string</code>) and use the <code>return</code> keyword to send the final answer out.</li>\n</ul>\n\n<h3>Example</h3>\nHere we have a function that strictly returns an <code>int</code>, and requires two <code>int</code> parameters to operate.\n<div class=\"code-block\">int addNumbers(int a, int b) { \n    int sum = a + b;\n    return sum; // Sends the result back\n}\n\nint main() {\n    int total = addNumbers(10, 5); // Passes 10 and 5 into a and b\n    std::cout << \"Total is \" << total; // Prints 15\n}</div>\n\n<h3>Exercise</h3>\nCreate a function named <code>multiply</code> that returns an <code>int</code> and accepts two integer parameters. Have it return the product of the two parameters. Test it by calling it inside <code>main()</code> with the numbers 6 and 7!\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">Product: 42</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nint multiply(int x, int y) {\n    return x * y;\n}\n\nint main() {\n    int result = multiply(6, 7);\n    std::cout << \"Product: \" << result << std::endl;\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\n// Create your int multiply(int x, int y) function here\n\n\nint main() {\n    // Call the function and print the result\n    \n    return 0;\n}"
            },
            "4.3": {
                "title": "References — Aliases",
                "content": "\n<h1>References — Alternative Names</h1>\n\nA <strong>reference</strong> is like an alias, or a nickname, for a variable that already exists. \n\nUnlike creating a new variable (which takes up fresh memory and copies the data), a reference points to the exact same memory location as the original variable. Whatever you do to the reference happens instantly to the original variable, because they are fundamentally the exact same thing!\n\nWe use the ampersand symbol (<code>&</code>) to bind a reference.\n\n<h3>Example</h3>\n<div class=\"code-block\">int playerHealth = 100;\n\n// Use '&' to make 'alias' refer precisely to 'playerHealth'\nint &alias = playerHealth;  \n\nalias = 50;  // Modifying the alias...\nstd::cout << playerHealth;  // Output is 50! The original was hit!</div>\n\n<h3>Exercise</h3>\nCreate an integer named <code>score</code> and set it to 10. Then create a reference to it using <code>&</code>. Increase the score to 20 by interacting <strong>only</strong> with your reference variable, and print out the original <code>score</code> to prove they are connected.\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">Original Score is now: 20</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int score = 10;\n    \n    int &alias = score;\n    alias = 20;\n    \n    std::cout << \"Original Score is now: \" << score << std::endl;\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int score = 10;\n    \n    // 1. Create a reference to score\n    \n    // 2. Change the value to 20 using the reference\n    \n    // 3. Print the original 'score'\n    \n    return 0;\n}"
            },
            "4.4": {
                "title": "Pointers — Memory Addresses",
                "content": "\n<h1>Pointers — Memory Addresses</h1>\n\nWelcome to the heart of C++. A <strong>pointer</strong> is a special type of variable that, instead of storing a standard value (like the number 5), stores the literal physical memory address on your computer's RAM where another variable is located.\n\nPointers are what make C++ the undisputed king of performance, as they allow direct manipulation of computer hardware and memory.\n\n<strong>Pointer Syntax:</strong>\n<ul>\n    <li><code>&</code> (Address-of Operator): Placed in front of a variable, it extracts its physical memory address.</li>\n    <li><code>*</code> (Dereference Operator): Creating a pointer variable demands a <code>*</code>. When used later on a pointer, it \"dereferences\" it—meaning it travels to that memory address and interacts with the actual data living there.</li>\n</ul>\n\n<h3>Example</h3>\n<div class=\"code-block\">int gold = 500;\nint *ptr = &gold;  // ptr holds the memory address of 'gold' (e.g. 0x7ffd5...)\n\nstd::cout << ptr;   // Prints the raw hexadecimal memory location\nstd::cout << *ptr;  // Travels to that location and prints the value there: 500</div>\n\n<h3>Exercise</h3>\nCreate an integer <code>secret</code> with the value 777. Create a pointer that points to <code>secret</code>'s address. Use the pointer to overwrite the secret to 999.\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">The secret is: 999</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int secret = 777;\n    \n    int *ptr = &secret;\n    *ptr = 999;\n    \n    std::cout << \"The secret is: \" << secret << std::endl;\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n    int secret = 777;\n    \n    // Create a pointer to secret\n    \n    // Dereference the pointer to change the secret to 999\n    \n    std::cout << \"The secret is now: \" << secret << std::endl;\n    return 0;\n}"
            },
            "5.1": {
                "title": "Object-Oriented Programming",
                "content": "\n<h1>Object-Oriented Programming (OOP)</h1>\n\nC++ brought <strong>Object-Oriented Programming</strong> to the C language. OOP is a way of designing software by modeling real-world objects.\n\nThere are two main concepts:\n<ul>\n    <li><strong>Class:</strong> An abstract blueprint or template. (e.g., A general blueprint for a \"Car\").</li>\n    <li><strong>Object:</strong> A concrete, physical instance created from that blueprint. (e.g., Your specific red Toyota Corolla).</li>\n</ul>\n\nInside a class, you can define attributes (variables representing data, like color or speed) and methods (functions representing actions, like accelerating). You use the <code>public:</code> access specifier to ensure you can interact with those properties from outside the class.\n\n<h3>Example</h3>\n<div class=\"code-block\">class Car { // The Blueprint\npublic: \n    std::string brand;\n    int speed;\n    \n    void drive() {\n        std::cout << brand << \" is driving at \" << speed << \" km/h\";\n    }\n};\n\nint main() {\n    Car myCar; // The actual Object\n    myCar.brand = \"Toyota\";\n    myCar.speed = 120;\n    myCar.drive();\n}</div>\n\n<h3>Exercise</h3>\nCreate a <code>Rectangle</code> class with two public integer attributes: <code>width</code> and <code>height</code>. Add a method named <code>getArea()</code> that multiplies them and returns the result. In main, create an object, set the width to 10 and height to 5, and print the area!\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">Area is: 50</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nclass Rectangle {\npublic:\n    int width;\n    int height;\n    \n    int getArea() {\n        return width * height;\n    }\n};\n\nint main() {\n    Rectangle rect;\n    rect.width = 10;\n    rect.height = 5;\n    \n    std::cout << \"Area is: \" << rect.getArea() << std::endl;\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\n// 1. Define your Rectangle class here\n\n\nint main() {\n    // 2. Create the object, set the attributes, and call getArea()\n    return 0;\n}"
            },
            "5.2": {
                "title": "Inheritance — Reusing Classes",
                "content": "\n<h1>Inheritance — Sharing DNA</h1>\n\nOne of the most powerful features of OOP is <strong>Inheritance</strong>. Inheritance allows a new class (Child) to automatically adopt all the variables and methods of an existing class (Parent). \n\nThis saves massive amounts of time because you don't have to rewrite code for similar objects. You formulate the shared characteristics in the Parent, and add the unique traits into the Child classes.\n\n<h3>Example</h3>\nWe use a colon <code>:</code> followed by <code>public ParentName</code> to inherit. In this example, the Dog gets the <code>eat()</code> method entirely for free, without us writing a single line of logic for it inside Dog!\n<div class=\"code-block\">class Animal { // Parent\npublic:\n    void eat() { std::cout << \"Nom nom\\n\"; }\n};\n\nclass Dog : public Animal { // Child inherits from Animal\npublic:\n    void bark() { std::cout << \"Woof!\\n\"; }\n};</div>\n\n<h3>Exercise</h3>\nThe editor has an <code>Animal</code> class. Below it, define a <code>Bird</code> class that publicly inherits from Animal. Give the Bird class a <code>fly()</code> method that prints \"I am flying!\". Create a Bird object in main and prove it can both eat AND fly.\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">Nom nom<br>I am flying!</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nclass Animal {\npublic:\n    void eat() {\n        std::cout << \"Nom nom\" << std::endl;\n    }\n};\n\nclass Bird : public Animal {\npublic:\n    void fly() {\n        std::cout << \"I am flying!\" << std::endl;\n    }\n};\n\nint main() {\n    Bird b;\n    b.eat();\n    b.fly();\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\nclass Animal {\npublic:\n    void eat() {\n        std::cout << \"Eating food...\" << std::endl;\n    }\n};\n\n// Create your Bird class here\n\n\nint main() {\n    // Test your Bird class here\n    return 0;\n}"
            },
            "5.3": {
                "title": "Polymorphism — Many Forms",
                "content": "\n<h1>Polymorphism — Many Forms</h1>\n\n<strong>Polymorphism</strong> comes from Greek meaning \"Many Forms\". In OOP, it means that while multiple child classes might inherit the exact same function name from their parent, they can each execute that function in their own wildly different way!\n\n<strong>Overriding Functions:</strong>\nTo allow child classes to fundamentally change a function's behavior, the parent class MUST declare the function using the <code>virtual</code> keyword.\n\n<h3>Example</h3>\nAnimals all speak, but they make different sounds!\n<div class=\"code-block\">class Animal {\npublic:\n    // Virtual tells C++: \"Hey, children might replace this behavior!\"\n    virtual void speak() { std::cout << \"Generic animal sound\"; }\n};\n\nclass Dog : public Animal {\npublic:\n    // Override tells C++: \"I am actively replacing the parent's behavior!\"\n    void speak() override { std::cout << \"Bork bork!\"; }\n};</div>\n\n<h3>Exercise</h3>\nCreate a parent <code>Shape</code> class with a virtual <code>draw()</code> method. Below it, create a <code>Square</code> class that inherits from Shape and overrides the draw method to print \"Drawing a 4-sided square\".\n\n<br><strong>Expected Output:</strong>\n<div class=\"code-block\" style=\"background: #1e1e2e; color: #a6accd; padding: 10px; margin-top: 5px; border-left: 3px solid #fbbf24; font-family: 'Fira Code', monospace; font-size: 0.9em;\">Drawing a 4-sided square</div>\n",
                "solutionCode": "#include <iostream>\n\nusing namespace std;\n\nclass Shape {\npublic:\n    virtual void draw() {\n        std::cout << \"Drawing generic shape\" << std::endl;\n    }\n};\n\nclass Square : public Shape {\npublic:\n    void draw() override {\n        std::cout << \"Drawing a 4-sided square\" << std::endl;\n    }\n};\n\nint main() {\n    Shape *sq = new Square();\n    sq->draw();\n    \n    return 0;\n}",
                "defaultCode": "#include <iostream>\n\nusing namespace std;\n\n// Create your Shape and Square classes here\n\n\nint main() {\n    // Create a Shape pointer that holds a Square object\n    // ...\n    // When the overridden function is called, polymorphism takes effect!\n    // sq->draw(); \n    return 0;\n}"
            }
        };

        // --- STATE ---
        const urlParams = new URLSearchParams(window.location.search);
        const lessonId = urlParams.get('lessonId') || "1.1";
        const currentLesson = lessonData[lessonId] || defaultLesson;
        let editorInstance;

        // --- INITIALIZATION ---
        document.getElementById('topLessonTitle').textContent = currentLesson.title;
        document.getElementById('lessonContent').innerHTML = currentLesson.content;

        // --- SOLUTION BUTTON LOGIC ---
        const solutionDisplay = document.getElementById('solutionCodeDisplay');
        const btnShowSolution = document.getElementById('btnShowSolution');
        const box = document.getElementById('solutionBox');

        if (solutionDisplay && btnShowSolution && box) {
            solutionDisplay.textContent = currentLesson.solutionCode || "// No solution provided for this lesson.";
            btnShowSolution.onclick = () => {
                if (box.style.display === 'none') {
                    box.style.display = 'block';
                    btnShowSolution.innerHTML = '<i class="fas fa-eye-slash"></i> Hide Solution';
                    try { box.scrollIntoView({ behavior: "smooth", block: "start" }); } catch (e) { }
                } else {
                    box.style.display = 'none';
                    btnShowSolution.innerHTML = '<i class="fas fa-lightbulb"></i> View Solution';
                }
            };
        }

        // Init Editor
        require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs' } });
        require(['vs/editor/editor.main'], function () {
            editorInstance = monaco.editor.create(document.getElementById('editor-container'), {
                value: currentLesson.defaultCode,
                language: 'cpp',
                theme: 'vs-dark',
                automaticLayout: true,
                fontSize: 16,
                fontFamily: "'Fira Code', monospace",
                minimap: { enabled: false }
            });
        });

        // --- NAVIGATION LOGIC ---
        // Simple map for next/prev (Flattened list of IDs)
        const lessonIds = [
            "1.1", "1.2", "1.3", "1.4", "1.5", "1.6",
            "2.1", "2.2", "2.3",
            "3.1", "3.2", "3.3", "3.4",
            "4.1", "4.2", "4.3", "4.4",
            "5.1", "5.2", "5.3"
        ];
        const currentIndex = lessonIds.indexOf(lessonId);

        if (currentIndex > 0) {
            const btnPrev = document.getElementById('btnPrev');
            btnPrev.style.visibility = 'visible';
            btnPrev.onclick = () => window.location.href = `cpp-lesson?lessonId=${lessonIds[currentIndex - 1]}`;
        }

        if (currentIndex < lessonIds.length - 1 && currentIndex !== -1) {
            const btnNext = document.getElementById('btnNext');
            btnNext.style.visibility = 'visible';
            btnNext.onclick = () => window.location.href = `cpp-lesson?lessonId=${lessonIds[currentIndex + 1]}`;
        }



        // --- FUNCTIONS ---
        async function runCode() {
            const btn = document.getElementById('btnRun');
            const outputDiv = document.getElementById('terminal-output');
            const code = editorInstance.getValue();

            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Running...';
            outputDiv.textContent = "Compiling and executing...";
            outputDiv.className = "terminal-output"; // Reset classes

            try {
                // Using Local Backend Executer
                const response = await fetch('/api/compiler/run-cpp', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ code })
                });

                const data = await response.json();

                if (data.run) {
                    if (data.run.code !== 0) {
                        // Compilation or Runtime Error
                        outputDiv.textContent = data.run.stderr || data.run.stdout; // fallback to stdout if stderr empty
                        outputDiv.classList.add('terminal-output-error');
                    } else {
                        // Success
                        outputDiv.textContent = data.run.stdout;
                    }
                } else {
                    outputDiv.textContent = "Error: Could not execute code.";
                    outputDiv.classList.add('terminal-output-error');
                }

            } catch (err) {
                outputDiv.textContent = "Network Error: " + err.message;
                outputDiv.classList.add('terminal-output-error');
            } finally {
                btn.disabled = false;
                btn.innerHTML = '<i class="fas fa-play"></i> Run Code';
            }
        }

        // --- DRAG RESIZE LOGIC ---
        const resizeHandle = document.getElementById('resizeHandle');
        const terminalPanel = document.getElementById('terminalPanel');
        const editorContainer = document.getElementById('editor-container');
        const editorPanel = document.querySelector('.editor-panel');

        let isResizing = false;

        resizeHandle.addEventListener('mousedown', (e) => {
            isResizing = true;
            resizeHandle.classList.add('active');
            document.body.style.cursor = 'row-resize';

            // Critical: Disable pointer events on iframe/editor to prevent stealing mouse events
            editorContainer.style.pointerEvents = 'none';
            document.body.style.userSelect = 'none'; // Prevent text selection

            e.preventDefault();
        });

        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;

            const containerRect = editorPanel.getBoundingClientRect();
            // Calculate height from bottom
            // Height = Bottom of container - Mouse Y
            let newHeight = containerRect.bottom - e.clientY;

            // Constraints
            const minHeight = 100;
            const maxHeight = containerRect.height - 100; // Keep at least 100px for editor

            if (newHeight < minHeight) newHeight = minHeight;
            if (newHeight > maxHeight) newHeight = maxHeight;

            terminalPanel.style.height = `${newHeight}px`;
        });

        document.addEventListener('mouseup', () => {
            if (isResizing) {
                isResizing = false;
                resizeHandle.classList.remove('active');
                document.body.style.cursor = 'default';
                document.body.style.userSelect = '';

                // Re-enable pointer events
                editorContainer.style.pointerEvents = 'auto';

                // Trigger editor layout update so it fills new space
                if (editorInstance) editorInstance.layout();
            }
        });


        async function markComplete() {
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            const token = localStorage.getItem('token');
            const studentId = user.id;

            if (!token || !studentId) {
                alert("Please login to save progress.");
                return;
            }

            const btn = document.getElementById('btnComplete');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
            btn.disabled = true;

            try {
                console.log(`[CPP Lesson] Marking complete: Student ${studentId}, Lesson ${lessonId}`);
                const response = await fetch('/api/progress/cpp/mark', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ studentId, lessonId })
                });

                if (response.ok) {
                    console.log("[CPP Lesson] Mark complete success");
                    // Update LocalStorage for immediate UI feedback (optional, but good for redundancy)
                    const progressKey = `cpp_progress_${studentId}`;
                    const progress = JSON.parse(localStorage.getItem(progressKey)) || {};
                    progress[lessonId] = true;
                    localStorage.setItem(progressKey, JSON.stringify(progress));

                    btn.innerHTML = '<i class="fas fa-check-double"></i> Completed';
                    btn.classList.add('completed');
                } else {
                    const errText = await response.text();
                    console.error("[CPP Lesson] Mark complete failed:", response.status, errText);
                    throw new Error('Failed to save progress');
                }
            } catch (err) {
                console.error("[CPP Lesson] Error in markComplete:", err);
                alert("Failed to save progress. Please try again.");
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }

        // Check if already completed (from API)
        async function checkCompletion() {
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            const token = localStorage.getItem('token');
            if (!user.id || !token) return;

            try {
                const response = await fetch(`/api/progress/cpp/${user.id}`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                const data = await response.json();

                if (data[lessonId]) {
                    const btn = document.getElementById('btnComplete');
                    btn.innerHTML = '<i class="fas fa-check-double"></i> Completed';
                    btn.disabled = true;
                }
            } catch (err) {
                console.error("Error checking progress:", err);
            }
        }

        checkCompletion();

    </script>
</body>

</html>
```